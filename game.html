<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TrinWin- Rock, Paper, Scissor Royale</title>
    <link rel="stylesheet" href="style.css" />
    <script src="myscript.js"></script>
  </head>

  <body class="game">
    <a href="index.html">
      <img src="logo.png" alt="My logo" />
    </a>
    <div class="game-page">
      <div class="message"><br /><br />CHOOSE AN OPTION</div>
    </div>

    <div class="images">
      <div class="computer">
        <img src="rock-sys.png" alt="Computer's Choice" />
      </div>
      <div class="player">
        <img src="rock.png" alt="Player's Choice" />
      </div>
    </div>

    <div class="points-container">
      <div class="points">
        <p>
          COMPUTER <span class="computerPoints">0</span> /
          <span class="playerPoints">0</span> PLAYER
        </p>
      </div>
    </div>

    <div class="options">
      <button type="button">Rock</button>
      <button type="button">Paper</button>
      <button type="button">Scissor</button>
    </div>

    <script>
      const computer = document.querySelector(".computer img");
      const player = document.querySelector(".player img");
      const computerPoints = document.querySelector(".computerPoints");
      const playerPoints = document.querySelector(".playerPoints");
      const options = document.querySelectorAll(".options button");

      options.forEach((option) => {
        option.addEventListener("click", () => {
          computer.classList.add("shakeComputer");
          player.classList.add("shakePlayer");

          setTimeout(() => {
            computer.classList.remove("shakeComputer");
            player.classList.remove("shakePlayer");

            player.src = "./" + option.innerHTML.toLowerCase() + ".png";
            const choice = ["rock", "paper", "scissor"];
            let arrayNo = Math.floor(Math.random() * 3);
            let computerChoice = choice[arrayNo];
            computer.src = "./" + computerChoice + "-sys.png";

            let cPoints = parseInt(computerPoints.innerHTML);
            let pPoints = parseInt(playerPoints.innerHTML);

            const playerChoice = option.innerHTML.toLowerCase();

            if (playerChoice === "rock") {
              if (computerChoice === "paper") {
                computerPoints.innerHTML = cPoints + 1; // paper beats rock
              } else if (computerChoice === "scissor") {
                playerPoints.innerHTML = pPoints + 1; // rock beats scissors
              }
            } else if (playerChoice === "paper") {
              if (computerChoice === "scissor") {
                computerPoints.innerHTML = cPoints + 1; // scissors beats paper
              } else if (computerChoice === "rock") {
                playerPoints.innerHTML = pPoints + 1; // paper beats rock
              }
            } else if (playerChoice === "scissor") {
              if (computerChoice === "rock") {
                computerPoints.innerHTML = cPoints + 1; // rock beats scissors
              } else if (computerChoice === "paper") {
                playerPoints.innerHTML = pPoints + 1; // scissors beats paper
              }
            }
          }, 900);
        });
      });
    </script>
  </body>
</html>
